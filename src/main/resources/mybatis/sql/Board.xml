<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.daou.pd.admin.board.BoardMapper">

	<select id="degreeList" resultType="examVO">
		select distinct exam_degree 
		from quiz_user_exam
	</select>
	
	<select id="deptList" resultType="configVO">
		select quiz_cfg_code, quiz_cfg_code_name 
		from quiz_config
		where quiz_cfg_code_group = 'dept'
	</select>
	
	<select id="gradeList" resultType="configVO">
		select quiz_cfg_code, quiz_cfg_code_name 
		from quiz_config
		where quiz_cfg_code_group = 'grade'
	</select>
	
	
	<select id="selectTarget" parameterType="examVO" resultType="int">
		select count(distinct exam_take_id) 
		from quiz_user_exam
		where exam_degree = #{exam_degree}
	</select>
	
	<select id="selectTargetDo" parameterType="examVO" resultType="int">
		select count(distinct exam_take_id) 
		from quiz_user_exam
		where exam_degree = #{exam_degree} and exam_status = 'status01' or 'status04' or'status05' and exam_retake_degree = 0
	</select>
	
	<select id="selectPass" parameterType="examVO" resultType="int">
		select count(distinct exam_take_id) 
		from quiz_user_exam
		where exam_degree = #{exam_degree} and exam_status = 'status01'
	</select>
	
	<select id="selectSetCount" parameterType="examVO" resultType="int" >
		select item_no, count(item_no)
		from quiz_exam_detail qed left join quiz_user_exam que
        on qed.exam_no = que.exam_no
        where que.exam_degree = #{exam_degree}
        group by item_no
	</select>
	
	
</mapper>	 